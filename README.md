# Text Differ

> **Note:** This project was entirely generated by AI using GitHub Copilot.

A robust Node.js application for comparing three text files side-by-side. It features a modern dark theme, local file browsing, drag-and-drop support, and the ability to export comparisons as standalone HTML files.

## Features

-   **3-Way Comparison**: Load and compare up to three text files simultaneously.
-   **Visual Diffs**: Clear, color-coded difference highlighting (additions, deletions).
-   **Localization**: Automatic language detection (English/Ukrainian) based on system settings.
-   **File Browser**: Integrated local file browser to easily navigate and select files.
-   **Drag & Drop**: Drag files directly onto the application window or the executable icon. Supports multi-file drop.
-   **Standalone Application**: Runs as a native desktop application (Electron) with standard window controls.
-   **Screenshot Export**: Generate a full-length screenshot of the comparison and copy it directly to the clipboard.
-   **Dark Theme**: Designed for comfortable viewing with smooth loading animations.
-   **Keyboard Shortcuts**: Press `Escape` to close modals or the application window.

## Installation

### From Source

1.  Ensure [Node.js](https://nodejs.org/) is installed.
2.  Clone or download this repository.
3.  Install dependencies:
    ```bash
    npm install
    ```

## Usage

### Running from Source

Start the development server:
```bash
npm start
```
This will launch the application in your default browser at `http://localhost:3000`.

### Building the Executable

To create a standalone portable application (Windows):

1.  Run the **`build-portable.bat`** script.
    *   This script automatically installs dependencies, patches build tools to avoid permission errors, and compiles the application.

The executable will be created in the `dist/` directory as **`text-differ.exe`**.

### Using the Executable

1.  Run `text-differ.exe` from the `dist/` folder.
2.  **Drag & Drop**: You can drag text files directly onto the `.exe` icon to launch the application with those files pre-loaded.
3.  **Window Controls**: The application runs in its own window with standard minimize/maximize/close controls.
3.  **Command Line**:
    ```bash
    text-differ.exe file1.txt file2.txt file3.txt
    ```

## Technologies Used

-   **Electron**: For creating the standalone desktop application.
-   **Node.js** & **Express**: Backend server.
-   **electron-builder**: For packaging the application into an executable.
-   **jsdiff**: For computing text differences.
-   **HTML5/CSS3/JavaScript**: Frontend interface.

## Integration with Perforce (P4V)

You can use `text-differ` as your custom diff tool in Perforce Helix Core.

1.  Open **P4V**.
2.  Go to **Edit** > **Preferences**.
3.  Select **Diff** in the sidebar.
4.  Under **Default Diff Application**, select **Other application**.
5.  Click **Browse** and select the `p4-diff.bat` file included in this repository.
    *   *Note: Ensure `p4-diff.bat` points to the correct location of `Text-Differ-Portable.exe` (default: `dist\Text-Differ-Portable.exe`).*
6.  Ensure the **Arguments** field is set to: `%1 %2`.
7.  Click **OK**.

Now, when you diff a file in P4V (e.g., "Diff against Have Revision"), it will open in `text-differ`.

## License

This project is AI-generated and provided as-is.
